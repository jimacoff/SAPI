
<h2>
  Welcome to the Shipments Database
</h2>


{{ partial 'trade/shipments/filters' }}


<div class="shipments-header well well-small">
  <div class="row-fluid">
    <div class="span3">
      <h3>Search results</h3>
    </div>
    <div class="span3">
      <span class="total-matches">{{total}} matches</span>
    </div>
    <div class="sandbox-header-buttons span6">
      {{#view tagName='span' class='pull-right' isVisibleBinding='controller.shipmentsSaving'}}
        <img src="/assets/loading.gif"> Saving...
      {{/view}}
      <button {{action 'saveChanges'}}
        {{bind-attr class="unsavedChanges::disabled :pull-right :btn :btn-primary"}}>
        Save changes
      </button>
      <button {{action 'cancelChanges'}} class="pull-right btn clearfix">
        Cancel changes
      </button>
      {{#if unsavedChanges}}
        <span class="pull-right label label-important">There are {{changedRowsCount}} unsaved changes.</span>
      {{/if}}
    </div>
  </div>
</div>

{{view Trade.ShipmentForm}}

<div class='presentation-container'>
  {{view Trade.ShipmentsTable.TablesContainer
    controllerBinding="tableController"
    selectionBinding="tableController.selection"
  }}
</div>
<div class="paging">
  <ul class="pager">
    {{# if controller.showPrevPage }}
      <li><a href="#" {{action "prevPage" target="view" on="click"}}>&#9664;</a></li>
    {{/if}}

    <li>Page {{controller.page}} of {{controller.pages}}</li>

    {{# if controller.showNextPage }}
      <li><a href="#" {{action "nextPage" target="view" on="click"}}>&#9654;</a></li>
    {{/if}}
  </ul>
</div>
