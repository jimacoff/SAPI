<%= form_for [:admin, @n_name], :remote => true do |f| %>

  <%= error_messages_for(@n_name) %>
  <%= f.hidden_field :name_status %>
  <div class="control-group">
    <label>Taxonomy</label>
    <%= f.select :taxonomy_id,
      options_from_collection_for_select(@taxonomies, :id, :name, @n_name && @n_name.taxonomy_id)
    %>
  </div>
  <div class="control-group">
    <label>Rank</label>
    <%= f.select :rank_id,
      options_from_collection_for_select(@ranks, :id, :name, @n_name && @n_name.rank_id)
    %>
  </div>
  <div class="control-group">
    <label class="control-label">Parent</label>
    <div class="controls">
      <%= f.text_field :parent_id, {
        class: 'taxon-concept parent-taxon',
        :'data-name' => @n_name.parent.try(:full_name),
        :'data-name-status' => @n_name.parent.try(:name_status),
        :'data-name-status-filter' => ['A', 'N'].to_json,
        :'data-rank-scope' => 'parent'
      } %>
    </div>
  </div>
  <div class="control-group">
    <label>Scientific name</label>
    <%= f.text_field :full_name %>
  </div>
  <div class="control-group">
    <label>Tags</label>
    <%= f.select :tag_list,
      options_from_collection_for_select(
        @tags,
        :name,
        :name,
        @n_name.tag_list
      ), {},
      { :multiple => true, :class => 'tags', :style => "width: 220px"}
    %>
  </div>
  <div class="control-group">
    <label>Author & year</label>
    <%= f.text_field :author_year %>
  </div>
  <%= render :partial => 'admin/shared/nomenclature_notes_form',
    locals: {
      f: f,
      locale_columns: TaxonConcept.locale_columns(:nomenclature_note)
    }
  %>
<% end %>
