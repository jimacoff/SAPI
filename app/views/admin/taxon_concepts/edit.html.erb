<script type="text/javascript">
  $(document).ready(function() {
    window.geoEntitiesList = new SAPIAdmin.EditableList({
      list: <%= @taxon_concept.geo_entities.to_json.html_safe %>,
      el: '<ul class="unstyled">'
    })

    $('.geo-entities-list').html(window.geoEntitiesList.render());
  });
</script>

<h1><%= @taxon_concept.full_name || @taxon_concept.full_name %></h1>

<%= link_to "Taxon Relationships", admin_taxon_concept_taxon_relationships_path(@taxon_concept) %><br>

ID: <%= @taxon_concept.id %><br>
Full name: <%= @taxon_concept.full_name %><br>
Author & year: <%= @taxon_concept.author_year %><br>



<ul id="taxon-concept-tabs" class="nav nav-tabs">
  <li class="active"><a href="#details" data-toggle="tab">Details</a></li>
  <li><a href="#legislation" data-toggle="tab">Legislation</a></li>
</ul>

<div class="tab-content">
  <div class="row-fluid tab-pane fade active in" id="details">

    <h3>Details</h3>
    <%= render "form" %>

    <h3>Synonyms</h3>
    <%= admin_add_new_synonym_button %>
    <%= admin_new_synonym_modal %>
    <hr>
    <div class="synonyms-list">
      <% @taxon_concept.synonym_taxon_concepts.each do |s| %>
        <%= s.full_name %> edit delete <br>
      <% end %>
    </div>

    <h3>Common name</h3>
    <%= admin_add_new_common_name_button %>
    <%= admin_new_common_name_modal %>
    <hr>
    <div class="synonyms-list">
      <% @taxon_concept.synonym_taxon_concepts.each do |s| %>
        <%= s.full_name %> edit delete <br>
      <% end %>
    </div>

    <h3>Distribution</h3>

    <%= form_tag do %>
      <label>Geo Entity</label>
      <%= text_field_tag :geo_entity, nil, :class => 'typeahead geo_entity' %>
    <% end %>

    <hr>

    <div class="geo-entities-list">
    </div>

  </div>

  <div class="row-fluid tab-pane" id="legislation">
    <div class="span12">
    </div>
  </div>
</div>
